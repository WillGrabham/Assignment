<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<header>
    <h1>Welcome tutor!</h1>
    <div style="display: flex; flex-flow: row wrap;">
        <script >
            let ctx
        </script>
        {% for student_id, object in student_grades.items() %}
            <div style="width: 40rem;border: 3px solid black; margin: 10px">
                <div style="text-align: center">
                    <a href="/tutor/edit/{{student_id}}">
                        <h3>{{object.student_name}}</h3>
                    </a>
                </div>
                <canvas id="chart-{{student_id}}">
                    <script>
                        console.log('module names: ', {{object.module_names | safe}})
                        console.log('module grades: ', {{object.module_grades}})
                        ctx = document.getElementById('chart-{{student_id}}')
                        new Chart(ctx, {
                            type: 'bar',
                            data: {
                                labels: {{object.module_names | safe}},
                                datasets: [{
                                    label: 'grade',
                                    data: {{object.module_grades}},
                                    tension: 0
                                }]
                            },
                            options: {
                                scales: {
                                    y: {
                                        max: 100
                                    }
                                }
                            }
                        })
                    </script>
                </canvas>
            </div>
        {% endfor %}
    </div>
</header>
